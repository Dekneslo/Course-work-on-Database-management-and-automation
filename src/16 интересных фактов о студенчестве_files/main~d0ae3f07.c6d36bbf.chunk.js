(this.webpackJsonpnewvm=this.webpackJsonpnewvm||[]).push([[11],{0:function(e,t,n){"use strict";var o=n(4),i=n(5),a=new(function(){function e(){Object(o.a)(this,e),this.local="undefined"!==typeof window.localStorage}return Object(i.a)(e,[{key:"__setCookie",value:function(e,t,n){var o=(n=n||{}).expires;if("number"===typeof o&&o){var i=new Date;i.setTime(i.getTime()+1e3*o),o=n.expires=i}o&&o.toUTCString&&(n.expires=o.toUTCString());var a=e+"="+t;for(var r in n){a+="; "+r;var c=n[r];!0!==c&&(a+="="+c)}return document.cookie=a,!0}},{key:"__getCookie",value:function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}},{key:"__removeCookie",value:function(e){return this.__setCookie(e,"",{expires:-1})}},{key:"__setLocal",value:function(e,t){return window.localStorage.setItem(e,t)}},{key:"__getLocal",value:function(e){return window.localStorage.getItem(e)}},{key:"__removeLocal",value:function(e){return window.localStorage.removeItem(e)}},{key:"set",value:function(e,t,n){return this.local?this.__setLocal(e,t):this.__setCookie(e,t,n)}},{key:"get",value:function(e){return this.local?this.__getLocal(e):this.__getCookie(e)}},{key:"remove",value:function(e){return this.local?this.__removeLocal(e):this.__removeCookie(e)}}]),e}());t.a=a},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var o={};n.r(o),n.d(o,"BreakingWidget",(function(){return f})),n.d(o,"PollWidget",(function(){return h})),n.d(o,"MainpageTabs",(function(){return b}));var i=n(11),a=n(1),r=n.n(a),c=n(3),d=(n(15),n(12)),l=n.n(d),s=[];[{name:"Noto Sans",props:{weight:400}},{name:"Noto Sans",props:{weight:500}},{name:"Noto Sans",props:{weight:600}},{name:"Noto Sans",props:{weight:700}},{name:"Noto Sans",props:{weight:800}},{name:"Noto Sans",props:{weight:900}}].map((function(e){s.push(new l.a(e.name,e.props))})),Promise.all(s).then((function(e){console.log(e),document.documentElement.classList.add("notofont")})).catch((function(e){console.error("error load fonts: ",e)}));var u=n(4),p=n(7),m=n(8),w=n(2),f=function(e){Object(m.a)(n,e);var t=Object(p.a)(n);function n(e){var o;if(Object(u.a)(this,n),(o=t.call(this,e)).element&&e.interval){var i=parseInt(e.interval,10);i>0?setInterval(Object(c.a)(r.a.mark((function t(){var n,i,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.loadWidget();case 3:n=t.sent,(i=document.createElement("div")).innerHTML=n,(a=i.querySelector(".breaking-wrapper").getAttribute("data-doc"))?a!==e.doc_id&&(o.element.innerHTML=i.querySelector(".breaking-wrapper").innerHTML):o.element.innerHTML="",t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),window.VM.Logger&&window.VM.Logger.error("load widget [".concat(o.widget_name,"] data"),t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])}))),i):console.error("error in widget [".concat(o.widget_name,"] params: interval must be more than zero"))}return o}return n}((function e(t){var n=this;Object(u.a)(this,e),this.loadWidget=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((function(t,o){n.loading=!0,fetch("".concat(w.a.ENDPOINTS.WIDGET,"/").concat(n.widget_name,"/").concat(e?"json":n.widget_template)).then((function(e){return e.text()})).then((function(e){n.lastUpdated=new Date,n.loading=!1,t(e)})).catch((function(e){n.loading=!1,o({error:!0,err:e})}))}))},this.props=t,this.element=t.element,this.widget_name=t.name,this.widget_template=t.template,this.lastUpdated=null,this.loading=!1,this.error=!1})),v=n(0),h=function e(t){var n=this;Object(u.a)(this,e),this.__sendRequest=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(o,i){var a={"Content-type":"application/json"};v.a.get("poll_token")&&(a.Token=v.a.get("poll_token")),fetch(e,{method:t,headers:a,data:n}).then((function(e){return e.json()})).then((function(e){o(e)})).catch((function(e){i({error:!0,err:e})}))}))},this.loadPoll=Object(c.a)(r.a.mark((function e(){var t,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.el.classList.add("loading"),e.prev=1,e.next=4,n.__sendRequest("".concat(w.a.ENDPOINTS.POLL_LOAD,"?pid=").concat(n.id,"&t=").concat((new Date).getTime()),"GET");case 4:(t=e.sent).error?window.VM.Logger.error("poll [".concat(n.id,"] load error "),t):t.data&&t.data.list&&Array.isArray(t.data.list)&&t.data.list.length>0&&((o=t.data.token)&&v.a.set("poll_token",o),n.poll=t.data.list[0],n.__renderPoll(),n.el.classList.remove("loading")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),window.VM.Logger.error("poll [".concat(n.id,"] load error "),e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),this.showPollResult=function(e){e.preventDefault(),n.poll.options=n.poll.options||{},n.poll.options.poll_finish=!0,n.__renderPoll()},this.__renderPoll=function(){if(n.isRender){n.el.querySelector('button[name="show_poll_result"]')&&n.el.querySelector('button[name="show_poll_result"]').removeEventListener("click",n.showPollResult);var e=n.el.querySelectorAll("input");e&&e.length>0&&e.forEach((function(e){e.removeEventListener("change",n.vote)}))}n.el.innerHTML=n.__generatePollTemplate(n.poll),n.isRender=!0;var t=n.el.querySelector('button[name="show_poll_result"]'),o=n.el.querySelectorAll("input");t&&t.addEventListener("click",n.showPollResult),o&&o.length>0&&o.forEach((function(e){e.addEventListener("change",n.vote)}))},this.vote=function(){var e=Object(c.a)(r.a.mark((function e(t){var o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.el.classList.add("loading"),e.prev=2,e.next=5,n.__sendRequest("".concat(w.a.ENDPOINTS.POLL_VOTE,"/").concat(t.target.value),"GET");case 5:(o=e.sent).error?window.VM.Logger.error("poll [".concat(n.id,"] load error "),o):o&&o.data&&(n.poll=o.data,n.el.classList.remove("loading"),n.__renderPoll()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),window.VM.Logger.error("error send vote [".concat(e.t0.target.value,"]"),e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),this.__generatePollTemplate=function(e){var t="",n=e.options.poll_hidden||!1,o=e.options.poll_finish||!1,i=100,a=e.questions.length-1,r=e.IsVoted||!1,c=o||!1,d=window.location.pathname.indexOf("/tv")+1>0;r&&(c=!0);var l=0;e.questions.forEach((function(e){parseInt(e.total_votes)&&(l+=parseInt(e.total_votes))}));var s=e.questions.map((function(e,t){return e.percent=Math.round(parseInt(e.total_votes)/parseInt(l)*100),t===a?e.percent=i:i-=e.percent,e}));return s.length>4&&document.getElementById("tvPollWidget")&&document.getElementById("tvPollWidget").classList.add("big_poll"),console.log("questions",s,e.totalVotes),t+='<div class="poll_wrp">',s.forEach((function(n){"width: ".concat(n.percent,"%");t+='\n                <label class="'.concat(o?"poll-finished":"").concat(!1===c?" pfn":"",'">\n                    ').concat(!1===r?'<span class="radio"><input type="radio" name="poll_answer_'.concat(e.id,'" value="').concat(n.id,'"/></span>'):"","\n                    ").concat(c&&d?'<span class="qs-percent">'.concat(n.percent,"%</span>"):"",'\n                    <span class="qs ').concat(c?"qs-result":"",'">').concat(n.title,"</span>\n                    ").concat(c?'<span class="qs-progress wp '.concat(c?"qs-display-progress":"",'" data-percent="').concat(n.percent,'%" style="width: ').concat(n.percent,'%"></span>'):"","\n                    ").concat(c?'<span class="qs-progress hp '.concat(c?"qs-display-progress":"",'" data-percent="').concat(n.percent,'%" style="height: ').concat(n.percent,'%">').concat(n.percent,"%</span>"):"","\n                </label>\n            ")})),t+="</div>",!1===n&&(t+='<div class="total_votes '.concat(!1===r?"nvt":"",'">').concat(function(e,t,n,o){var i,a;return isNaN(t=Math.abs(t))&&(t=2),void 0===n&&(n=","),void 0===o&&(o="."),(a=(i=parseInt(e=(+e||0).toFixed(t))+"").length)>3?a%=3:a=0,(a?i.substr(0,a)+o:"")+i.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+o)+(t?n+Math.abs(e-i).toFixed(t).replace(/-/,0).slice(2):"")}(e.totalVotes,0,""," ")," ").concat(function(e,t){var n=t%100,o=e;return n>10&&n<20?o[2]:1===(n=t%10)?o[0]:n>1&&n<5?o[1]:o[2]}(["\u0433\u043e\u043b\u043e\u0441","\u0433\u043e\u043b\u043e\u0441\u0430","\u0433\u043e\u043b\u043e\u0441\u043e\u0432"],e.totalVotes),"</div>")),t},this.token=v.a.get("poll_token"),this.el=t.element,this.id=t.id,this.props=t,this.id&&this.loadPoll()},g=n(5),y=n(10),b=function(){function e(t){var n=this;Object(u.a)(this,e),this.buildSliderWidth=function(e){if(n.$el.querySelector(".tab:nth-child(".concat(e+1,") .tabwrp")).offsetHeight>16){var t=n.$el.querySelector(".tab:nth-child(".concat(e+1,") .tabwrp")).offsetHeight;document.body.clientWidth<=767&&(t+=40),n.$el.querySelector(".tabs--content").style.height=t+"px"}},this.bindTabsControls=function(e){e.preventDefault(),n.$el.setAttribute("data-active",e.target.getAttribute("data-tab"))},this.$el=t.el,this.buildSlider(),this.currentSlide=0}return Object(g.a)(e,[{key:"buildSlider",value:function(){var e=this;this.slider=new y.a(this.$el,{wrapperClass:"tabs--content",slideClass:"tab",keyboard:{enabled:!0,onlyInViewport:!0}}),this.buildSliderWidth(0),this.slider.on("before-slide",(function(t,n,o){console.log("hello",o),e.buildSliderWidth(o)}));var t=["main","news","moscow","opinion"];this.slider.on("after-slide",(function(n,o){var i=t[n];i&&(e.$el.setAttribute("data-active",i),e.currentSlide=i)})),this.$el.querySelectorAll(".tabs-options button").forEach((function(n){n.addEventListener("click",(function(n){n.preventDefault();var o=t.indexOf(n.target.getAttribute("data-tab"));o>=0&&e.slider.scroll(o,!0)}))})),window.addEventListener("resize",(function(){clearTimeout(e.t),e.t=setTimeout((function(){e.slider.update()}),100)}))}}]),e}(),_={error:"padding: 4px;background: #FF0000;color:#FFF;border-radius: 3px;",warning:"padding: 4px;background: rgb(255, 85, 0);color:#FFF;border-radius: 3px;",info:"padding: 4px;background: rgb(16, 142, 233);;color:#FFF;border-radius: 3px;",success:"padding: 4px;background: rgb(135, 208, 104);color:#FFF;border-radius: 3px;"};function L(e,t,n){e=Object.keys(_).indexOf(e)+1===0?"info":e,console.log("%c".concat(e),_[e],"[".concat(new Date,"] ").concat(t),n)}var E={error:function(e,t){L("error",e,t)},warning:function(e,t){L("warning",e,t)},info:function(e,t){L("info",e,t)},success:function(e,t){L("success",e,t)}},x=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=(arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null);return new Promise((function(i,a){var r="".concat(w.a.ENDPOINTS.LISTING,"/").concat(e,"/").concat(t,"?page=").concat(n);null===o||isNaN(parseInt(o,10))||(r="".concat(r,"&limit=").concat(o)),fetch(r).then((function(e){return e.text()})).then((function(e){i(e)})).catch((function(e){a({error:!0,err:e})}))}))};var k=function(){var e=Object(c.a)(r.a.mark((function e(t,n,o,i,a){var c,d,l,s,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=parseInt(a,10)+1,c=t.getAttribute("data-limit")||null,e.next=5,x(n,i,a,!1,c);case 5:d=e.sent,l=!1,d.error?window.VM.Logger.error("load listing [".concat(n,"] data"),d.error):((s=document.createElement("div")).innerHTML=d,(u=s.querySelectorAll("."+o))&&u.length>0?(u.forEach((function(e){var n;t.parentNode.insertBefore(e,t),n=e,Array.from(n.querySelectorAll("script")).forEach((function(e){var t=document.createElement("script");Array.from(e.attributes).forEach((function(e){return t.setAttribute(e.name,e.value)})),t.appendChild(document.createTextNode(e.innerHTML)),e.parentNode.replaceChild(t,e)}))})),t.setAttribute("data-page",a)):l=!0),l?(t.style.display="none",t.classList.add("remove"),t.innerText=t.originalText):(t.classList.remove("loading"),t.innerText=t.originalText),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),window.VM.Logger.error("load listing [".concat(n,"] data"),e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n,o,i,a){return e.apply(this,arguments)}}(),S=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,o,i,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isScrollClick=!0,n=t.getAttribute("data-listing"),o=t.getAttribute("data-page"),i=t.getAttribute("data-template"),a=t.getAttribute("data-item"),t.classList.contains("loading")){e.next=12;break}if(t.classList.add("loading"),t.originalText=t.innerText,t.innerText="\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",!n){e.next=12;break}return e.next=12,k(t,n,a,i,o);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var A=n(13),I=n.n(A),C=function(){function e(){Object(u.a)(this,e),this.init=this.init.bind(this)}return Object(g.a)(e,[{key:"init",value:function(){var e=/(android)/i.test(navigator.userAgent),t=(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream;window.AndroidPWAOpen=function(){alert("\u0412\u0430\u0448\u0435 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 PWA")},window.IOSOpenPrompt=function(){alert("\u0412\u0430\u0448\u0430 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 PWA")},console.log("[isAndroid]: ",e),console.log("[isIOS]: ",t);var n=document.getElementById("pwa"),o=document.getElementById("pwa-trigger-ios"),i=document.getElementById("pwaf-ios"),a=document.getElementById("pwa-trigger-android"),d=document.getElementById("pwaf-android");if(n&&t&&(window.ISOPWA=new I.a(".pwa-install-prompt__container",{active_class:"is-active",closer:".pwa-install-prompt__overlay",expires:180,show_after:90,on:{beforeOpen:function(){console.log("before open!")},afterOpen:function(){console.log("after open!")},beforeClose:function(){console.log("before close!")},afterClose:function(){console.log("after close!")}}}),window.IOSOpenPrompt=function(){window.ISOPWA.open()}),e){console.log("[PWA] android detected");var l="_artel_pwa_android",s=document.getElementById("pwa-android"),u=null;function p(){return(p=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("[PWA] prompt init"),null!==(u=t)&&(console.log("[PWA] prompt inited"),console.log("cookie",v.a.__getCookie(l)),v.a.__getCookie(l)||s.classList.add("active"));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.addEventListener("beforeinstallprompt",(function(e){return p.apply(this,arguments)}),(function(e){})),document.getElementById("android-pwa-close")&&document.getElementById("android-pwa-close").addEventListener("click",(function(e){e.preventDefault(),v.a.__setCookie(l,1,{expires:31104e3}),s.classList.remove("active")})),document.getElementById("android-pwa-install")&&document.getElementById("android-pwa-install").addEventListener("click",function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),null===u){e.next=11;break}return s.classList.remove("active"),u.prompt(),e.next=6,u.userChoice;case 6:n=e.sent,"accepted"===n.outcome?(u=null,v.a.__setCookie(l,1,{expires:62208e3})):v.a.__setCookie(l,1,{expires:15552e3}),e.next=13;break;case 11:v.a.__setCookie(l,1,{expires:31104e3}),s.classList.remove("active");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),window.AndroidPWAOpen=function(){console.log("android pwa click"),u&&u.prompt()}}o&&o.addEventListener("click",(function(e){e.preventDefault(),console.log("ios click trigger"),window.IOSOpenPrompt()})),i&&i.addEventListener("click",(function(e){e.preventDefault(),console.log("ios click trigger"),window.IOSOpenPrompt()})),a&&a.addEventListener("click",(function(e){e.preventDefault(),console.log("android click trigger"),window.AndroidPWAOpen()})),d&&d.addEventListener("click",(function(e){e.preventDefault(),console.log("android click trigger"),window.AndroidPWAOpen()}))}}]),e}();window.VM=window.VM||{},window.VM.dwidth=Math.max(document.documentElement.clientWidth,document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth),window.VM.Logger=E,window.VM.LoadMore=S,window.VM.AddLog=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"click";fetch("/api/logs?doc_id=".concat(e,"&widget_id=").concat(t,"&action=").concat(n)).then((function(e){return e.json()})).then((function(e){window.VM.Logger.success("widget log added",e)})).catch((function(e){window.VM.Logger.error("error add message",e)}))},Be();var q=v.a.get(w.a.USER.token),T=document.getElementById("hlb"),M=document.getElementById("hpb");q&&T&&"/profile"!==window.location.pathname&&fetch("/profile/self",{method:"GET",headers:{"Content-type":"application/json",Authorization:q}}).then((function(e){return e.json()})).then((function(e){if(M&&M.classList.add("show"),T){e.data.photo;T.innerHTML="\u0412\u044b\u0439\u0442\u0438"}})).catch((function(e){console.error("profile token has been expired: ",e),v.a.remove(w.a.USER.token)})),q&&T&&"/profile"===window.location.pathname&&(T.innerHTML="\u0412\u044b\u0439\u0442\u0438",T.classList.add("logout"),T.onclick=function(e){e.preventDefault(),v.a.remove(w.a.USER.token),M&&M.classList.contains("show")&&M.classList.remove("show"),window.location.reload()}),window.VM.showAuthModal=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!1;if(!1===e)t=!0;else{var n=v.a.get(w.a.USER.token);n?(v.a.remove(w.a.USER.token),M&&M.classList.remove("show"),window.location.reload()):t=!0}if(t){var o=document.getElementById("user_auth_modal");o&&o.classList.add("visible")}},window.VM.showModal=function(e){var t=document.getElementById(e);if(t&&!t.classList.contains("visible")){var n=document.querySelector(".modal.visible");n&&n.classList.remove("visible"),t.classList.add("visible")}};var O=document.getElementById("onair");O&&window.canLoad()&&n.e(13).then(n.bind(null,126)).then((function(e){new e.OnAir({widget:O})})).catch((function(e){console.error("error load onair module: ",e)}));var V=document.getElementById("first_onair");V&&window.canLoad()&&n.e(9).then(n.bind(null,127)).then((function(e){new e.fimOnAir({widget:V})})).catch((function(e){console.error("error load onair module: ",e)}));var P=document.getElementById("onair_test");P&&window.canLoad()&&n.e(13).then(n.bind(null,128)).then((function(e){new e.OnAirTest({widget:P})})).catch((function(e){console.error("error load onair module: ",e)}));var D=document.getElementById("search-form"),R=document.getElementById("search_result");D&&R&&n.e(15).then(n.bind(null,129)).then((function(e){new e.Search({form:D,result:R})})).catch((function(e){console.error("error load search module: ",e)}));var B=document.querySelectorAll(".vmslider");function W(e){var t=e.querySelectorAll(".vmslider");t&&t.length>0&&n.e(16).then(n.bind(null,130)).then((function(e){t.forEach((function(t){t.classList.contains("rendered")||(t.classList.add("rendered"),new e.VMSlider({el:t,slider:t.getAttribute("data-slider")}))}))})).catch((function(e){console.error("error load search module: ",e)}))}B&&B.length>0&&n.e(16).then(n.bind(null,130)).then((function(e){B.forEach((function(t){t.classList.contains("rendered")||(t.classList.add("rendered"),new e.VMSlider({el:t,slider:t.getAttribute("data-slider")}))}))})).catch((function(e){console.error("error load search module: ",e)}));var N=document.getElementById("city-switch");N&&N.addEventListener("change",(function(e){e.target.checked?window.location.href="/moscow":window.location.href="/"}));var j=document.getElementById("search_btn");j&&j.addEventListener("click",(function(e){window.location.href="/search"}));var Y=document.querySelector(".search-hundred-years");Y&&Y.addEventListener("click",(function(e){window.location.href="https://vm.ru/search"}));var H=document.querySelectorAll("*[data-widget]");H.length>0&&H.forEach((function(e){if(e.getAttribute("data-widget")){var t={};e.getAttributeNames().forEach((function(n){n.indexOf("data-")+1>0&&(t[n.split("data-").join("")]=e.getAttribute(n))})),t.element=e,o[t.widget]&&new o[t.widget](t)}}));var z=document.getElementById("menu_btn"),U=document.getElementById("slide-menu");z&&U&&z.addEventListener("click",(function(e){e.preventDefault(),z.classList.contains("active")?(document.body.setAttribute("style",""),z.classList.remove("active"),U.classList.remove("active")):(document.body.clientWidth>=883&&window.innerHeight<=900&&document.body.setAttribute("style","max-height: 100vh; overflow-y: hidden;"),z.classList.add("active"),U.classList.add("active"))}),!1),document.body.addEventListener("click",(function(e){document.body.classList.contains("without-menu")||e.target.classList.contains(".btn.menu")||e.target.closest(".btn.menu")||e.target.classList.contains(".menuc.main")||e.target.closest(".menuc.main")||(document.body.setAttribute("style",""),z.classList.remove("active"),U.classList.remove("active"))}));var F=document.querySelectorAll(".mnt");F&&F.length>0&&F.forEach((function(e){e.querySelector("a[data-tr]").addEventListener("click",(function(t){t.preventDefault(),window.VM.dwidth<=600?e.classList.add("active"):"A"===t.target.nodeName&&t.target.closest(".mnt.active")&&(window.location.href=t.target.getAttribute("href"))})),e.addEventListener("mouseover",(function(t){window.VM.dwidth>600&&e.classList.add("active")})),e.addEventListener("mouseout",(function(t){window.VM.dwidth>600&&e.classList.remove("active")})),e.querySelector(".back").addEventListener("click",(function(t){t.preventDefault(),e.classList.remove("active")}))})),window.addEventListener("keyup",(function(e){if(27===e.keyCode){z&&z.classList.contains("active")&&(z.classList.remove("active"),U.classList.remove("active"));var t=document.querySelectorAll(".modal.visible");t&&t.length>0&&t.forEach((function(e){e.classList.remove("visible")}))}})),window.addEventListener("click",(function(e){var t=e.target;if((t.classList.contains("tgc")||t.closest(".tgc"))&&(window.location.href=t.classList.contains("tgc")?t.querySelector("h2 > a").getAttribute("href"):t.closest(".tgc").querySelector("h2 > a").getAttribute("href")),t.classList.contains("btn")&&t.classList.contains("close")){var n=t.closest(".modal");n&&n.classList.contains("visible")&&n.classList.remove("visible")}if(t.classList.contains("modal")&&t.classList.remove("visible"),t.classList.contains("districts-title")){var o=t.closest(".districts__list-item");o&&(o.classList.contains("is-open")?o.classList.remove("is-open"):o.classList.add("is-open"))}if(t.classList.contains("archive-title")){var i=t.closest(".archive");i&&(i.classList.contains("is-open")?i.classList.remove("is-open"):i.classList.add("is-open"))}if(t.closest(".social_article")){document.title;var a=Math.max(0,(window.innerWidth-650)/2),r=Math.max(0,(window.innerHeight-610)/2),c=encodeURIComponent(t.closest(".social-share").dataset.fullLink),d="width=650,height=610,left="+a+",top="+r+",menubar=0,toolbar=0,location=0,status=0";window.VM.dwidth<=1625&&(c=encodeURIComponent("https://vm.ru"+t.closest(".marticle").getAttribute("data-href")),t.closest(".marticle").querySelector("h1").innerText),t.closest(".social-share").classList.contains("fb")&&window.open("https://www.facebook.com/sharer.php?src=sp&u=".concat(c,"&title=").concat(encodeURIComponent(t.closest(".social-share").dataset.title))),t.closest(".social-share").classList.contains("vk")&&window.open("https://vk.com/share.php?url=".concat(c,"&title=").concat(encodeURIComponent(t.closest(".social-share").dataset.title)),"_blank",d),t.closest(".social-share").classList.contains("tw")&&window.open("https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(t.closest(".social-share").dataset.title),"&title=").concat(encodeURIComponent(t.closest(".social-share").dataset.title),"&url=").concat(c)),t.closest(".social-share").classList.contains("ok")&&window.open("https://connect.ok.ru/offer?url=".concat(c,"&title=").concat(encodeURIComponent(t.closest(".social-share").dataset.title)),"_blank",d),t.closest(".social-share").classList.contains("tg")&&window.open("https://t.me/share/url?url=".concat(c),"_blank",d),t.closest(".social-share").classList.contains("wa")&&window.open("https://wa.me/?text=".concat(encodeURIComponent(t.closest(".social-share").dataset.title)," ").concat(c),"_blank",d),t.closest(".social-share").classList.contains("copy")&&navigator.clipboard.writeText("https://vm.ru"+t.closest(".marticle").getAttribute("data-href"))}if(t.classList.contains("wst")){var l=t.getAttribute("data-id"),s=t.closest("[data-wid]");s&&l&&s.getAttribute("data-wid")&&window.VM.AddLog(l,s.getAttribute("data-wid"))}}));var Q,G,$=document.querySelectorAll("#special-project > a");$&&$.length>0&&$[(Q=0,G=$.length,Q=Math.ceil(Q),G=Math.floor(G),Math.floor(Math.random()*(G-Q))+Q)].classList.add("svisible");var K=document.querySelector(".mainpage_tabs");K&&(new b({el:K}),new b({el:K}));var J=document.getElementById("vmtv_cats");J&&n.e(19).then(n.bind(null,131)).then((function(e){new e.VMTVCats({catsContainer:J,listingContainer:document.getElementById("vmtv_listing")})})).catch((function(e){console.error("error load search module: ",e)}));var Z=document.getElementById("stream_chat");Z&&Promise.all([n.e(1),n.e(6),n.e(3),n.e(5),n.e(4),n.e(2),n.e(20)]).then(n.bind(null,132)).then((function(e){new e.Chat({container:Z})})).catch((function(e){console.error("error load search module: ",e)}));var X=document.querySelector('*[data-component="moderatorChat"]');X&&Promise.all([n.e(0),n.e(7),n.e(1),n.e(6),n.e(3),n.e(5),n.e(4),n.e(2),n.e(22),n.e(23),n.e(27),n.e(25),n.e(26),n.e(21)]).then(n.bind(null,137)).then((function(e){new e.ChatADM({container:X})})).catch((function(e){console.error("error load search module: ",e)}));var ee=document.getElementById("user_auth_modal");ee&&n.e(17).then(n.bind(null,133)).then((function(e){new e.Auth({modal:ee})})).catch((function(e){console.error("error load auth module: ",e)}));var te=document.getElementById("access_token");te&&n.e(8).then(n.bind(null,134)).then((function(e){new e.Token({block:te})})).catch((function(e){console.error("error load auth module: ",e)}));var ne=document.getElementById("user_profile");ne&&Promise.all([n.e(0),n.e(18)]).then(n.bind(null,135)).then((function(e){new e.UserProfile({container:ne})})).catch((function(e){console.error("error load user module: ",e)}));var oe=document.getElementById("vmmap");oe&&Promise.all([n.e(0),n.e(7),n.e(12)]).then(n.bind(null,136)).then((function(e){new e.Map({container:oe})})).catch((function(e){console.error("error load map module: ",e)}));var ie=document.querySelector(".link-to-page"),ae=document.querySelector(".link-to-page__item"),re=document.querySelector(".link-to-page__item-link"),ce=document.querySelector('button[name="btn_link_to_page_close"]');if(ie){var de=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0);window.addEventListener("scroll",(function(e){var t=v.a.__getCookie("link_to_page_block");window.scrollY>de&&!t?(ie.classList.add("visible"),ae.classList.add("visible")):(ie.classList.remove("visible"),ae.classList.remove("visible"))})),re.addEventListener("click",(function(e){window.ga&&window.ga("send","event","yandex_news","click"),v.a.__setCookie("link_to_page_block",1,{expires:31536e3}),ae.classList.remove("visible")})),ce.addEventListener("click",(function(e){e.preventDefault(),window.ga&&window.ga("send","event","yandex_news","close"),v.a.__setCookie("link_to_page_block",1,{expires:86400}),ae.classList.remove("visible")}))}var le=document.querySelector(".link-to-yf-partners"),se=document.querySelector(".yf-partners");if(le&&se){function ue(e,t){var n=window.scrollY,o=e-n,i=0;!function e(){i+=20;var a=Math.easeInOutQuad(i,n,o,t);window.scrollTo(0,a),i<t&&setTimeout(e,20)}()}Math.easeInOutQuad=function(e,t,n,o){return(e/=o/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},le.addEventListener("click",(function(e){e.preventDefault(),ue(se.offsetTop+20,800)}))}var pe=document.querySelector(".link-to-mediaschool-partners"),me=document.querySelector(".mediaschool-partners");if(pe&&me){function ue(e,t){var n=window.scrollY,o=e-n,i=0;!function e(){i+=20;var a=Math.easeInOutQuad(i,n,o,t);window.scrollTo(0,a),i<t&&setTimeout(e,20)}()}Math.easeInOutQuad=function(e,t,n,o){return(e/=o/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},pe.addEventListener("click",(function(e){e.preventDefault(),ue(me.offsetTop+20,800)}))}var we=document.querySelector(".link-to-mediaschool2024-partners"),fe=document.querySelector(".mediaschool2024-partners");if(we&&fe){function ue(e,t){var n=window.scrollY,o=e-n,i=0;!function e(){i+=20;var a=Math.easeInOutQuad(i,n,o,t);window.scrollTo(0,a),i<t&&setTimeout(e,20)}()}Math.easeInOutQuad=function(e,t,n,o){return(e/=o/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},we.addEventListener("click",(function(e){e.preventDefault(),ue(fe.offsetTop-20,800)}))}var ve=document.querySelector(".link-to-ourmoscow-partners"),he=document.querySelector(".ourmoscow-partners");if(ve&&he){function ue(e,t){var n=window.scrollY,o=e-n,i=0;!function e(){i+=20;var a=Math.easeInOutQuad(i,n,o,t);window.scrollTo(0,a),i<t&&setTimeout(e,20)}()}Math.easeInOutQuad=function(e,t,n,o){return(e/=o/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},ve.addEventListener("click",(function(e){e.preventDefault(),ue(he.offsetTop-20,800)}))}var ge=document.querySelector(".link-to-first-partners"),ye=document.querySelector(".first-partners");if(ge&&ye){function ue(e,t){var n=window.scrollY,o=e-n,i=0;!function e(){i+=20;var a=Math.easeInOutQuad(i,n,o,t);window.scrollTo(0,a),i<t&&setTimeout(e,20)}()}Math.easeInOutQuad=function(e,t,n,o){return(e/=o/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},ge.addEventListener("click",(function(e){e.preventDefault(),ue(ye.offsetTop-20,800)}))}var be=document.querySelector(".link-to-livinghistory-partners"),_e=document.querySelector(".livinghistory-partners");if(be&&_e){function ue(e,t){var n=window.scrollY,o=e-n,i=0;!function e(){i+=20;var a=Math.easeInOutQuad(i,n,o,t);window.scrollTo(0,a),i<t&&setTimeout(e,20)}()}Math.easeInOutQuad=function(e,t,n,o){return(e/=o/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},be.addEventListener("click",(function(e){e.preventDefault(),ue(_e.offsetTop-20,800)}))}var Le=document.getElementById("vmscrollTop");if(Le){var Ee=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0);function ue(e,t){var n=window.scrollY,o=e-n,i=0;!function e(){i+=20;var a=Math.easeInOutQuad(i,n,o,t);window.scrollTo(0,a),i<t&&setTimeout(e,20)}()}Math.easeInOutQuad=function(e,t,n,o){return(e/=o/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},window.addEventListener("scroll",(function(e){window.scrollY>Ee?Le.classList.add("visible"):Le.classList.remove("visible")})),Le.addEventListener("click",(function(e){e.preventDefault(),ue(0,800)}))}if(document.getElementById("stories_slider"))document.querySelectorAll("#stories_slider .swiper-slide a").forEach((function(e){v.a.__getCookie("story-viewed-"+e.parentNode.dataset.id)&&e.parentNode.classList.add("story-watched"),e.addEventListener("click",(function(e){var t="story-viewed-"+e.target.parentNode.dataset.id;v.a.__setCookie(t,1,{expires:31536e3})}))}));var xe=document.querySelector("#stories_modal"),ke=document.querySelector(".story__item-controls .volume");xe&&xe.querySelectorAll("video")&&(xe.querySelectorAll("video").forEach((function(e){e.addEventListener("playing",(function(){xe.querySelectorAll(".swiper-pagination-bullet").forEach((function(e){if(!e.childElementCount>0){var t=document.createElement("span");e.appendChild(t)}}));var t=xe.querySelector(".swiper-pagination-bullet-active span"),n=document.querySelector("#stories_slider .swiper-wrapper div[data-id^='"+e.dataset.id+"']"),o=document.querySelector("#story .swiper-wrapper .swiper-slide-active .story__item-video video");window.location.hash="story="+e.dataset.id,v.a.__setCookie("story-viewed-"+e.dataset.id,1,{expires:31536e3}),n.classList.add("story-watched"),ke.classList.contains("muted")?(o.volume=0,o.muted=!0):(o.volume=1,o.muted=!1),setInterval((function(){t.style.width=e.currentTime/(e.duration/100)+"%"}),1e3)})),window.innerWidth<=980&&(e.dataset.src=e.dataset.mobile),e.addEventListener("mousedown",(function(){e.pause()})),e.addEventListener("mouseup",(function(){e.play()}))})),ke.addEventListener("click",(function(){var e=document.querySelector("#story .swiper-wrapper .swiper-slide-active .story__item-video video");ke.classList.toggle("muted"),ke.classList.contains("muted")?(e.volume=0,e.muted=!0):(e.volume=1,e.muted=!1)})));var Se=document.getElementById("toggleDescription");function Ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e){var n=e.getAttribute("data-image"),o=e.getAttribute("data-full-link"),i=e.getAttribute("data-descr");document.querySelector('meta[name="description"]')&&document.querySelector('meta[name="description"]').setAttribute("content",i),document.querySelector('meta[name="og:title"]')&&document.querySelector('meta[name="og:title"]').setAttribute("content",t),document.querySelector('meta[name="twitter:title"]')&&document.querySelector('meta[name="twitter:title"]').setAttribute("content",t),document.querySelector('meta[name="og:url"]')&&document.querySelector('meta[name="og:url"]').setAttribute("content",o),document.querySelector('link[rel="amphtml"]')&&document.querySelector('link[rel="amphtml"]').setAttribute("href",o+"/amp"),document.querySelector('link[rel="canonical"]')&&document.querySelector('link[rel="canonical"]').setAttribute("href",o),document.querySelector('meta[property="og:image"]')&&document.querySelector('meta[property="og:image"]').setAttribute("content",n),document.querySelector('meta[property="twitter:image"]')&&document.querySelector('meta[property="twitter:image"]').setAttribute("content",n),document.querySelector('meta[property="vk:image"]')&&document.querySelector('meta[property="vk:image"]').setAttribute("content",n)}}Se&&Se.addEventListener("click",(function(e){e.preventDefault();var t=Se.closest(".stream_description");t&&t.classList.toggle("open")})),window.addEventListener("DOMContentLoaded",(function(){document.getElementById("pwa")&&(window.PWAComponent=new C,window.PWAComponent.init())}));var Ie=document.querySelectorAll(".lazyarticle:not(.loaded)");if(window.VM_LOADED_ARTICLE=0,Ie&&Ie.length>0){var Ce=document.querySelector(".vmroot.article.marticle.marticle_first"),qe=Ce.clientWidth;window.isMobile=document.body.clientWidth<=980;var Te=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0);if(window.VM_LOCK=!1,window.Is_FirstLoading=!1,window.canLoad()){var Me=0;window.addEventListener("resize",(function(e){clearTimeout(Me),Me=setTimeout((function(){var e=document.querySelectorAll(".lazyarticle.loaded");qe=Ce.clientWidth,e&&e.forEach((function(e){e.setAttribute("style","max-width: ".concat(qe,"px;"))}))}),200)})),window.addEventListener("scroll",function(){var e=Object(c.a)(r.a.mark((function e(t){var n,o,i,a,c,d,l,s,u,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==window.VM_LOCK){e.next=36;break}if(n=window.scrollY+Te,!((o=document.querySelectorAll(".lazyarticle:not(.loaded)"))&&o.length>0)){e.next=36;break}if(i=!1,o.forEach((function(e){if(e.offsetTop<=n)return i=e.getAttribute("data-id"),void(window.VM_LOCK=!0)})),!i){e.next=33;break}if(!(a=document.getElementById("lazyart_".concat(i)))){e.next=31;break}return e.prev=9,a.classList.add("loading"),c=!1,a.classList.contains("ignore_next_material")&&(c=!0),e.next=15,Re(i,c);case 15:d=e.sent,window.Is_FirstLoading=!0,window.VM_LOADED_ARTICLE=window.VM_LOADED_ARTICLE+1,(l=document.createElement("div")).innerHTML=d,(s=l.querySelector(".vmroot.article"))&&(qe&&a.setAttribute("style","max-width: ".concat(qe,"px;")),Oe(a,s.outerHTML),a.setAttribute("data-href",s.getAttribute("data-href")),l.querySelector(".vmroot.article.lazyarticle")&&a.parentNode.insertBefore(l.querySelector(".vmroot.article.lazyarticle"),a.nextSibling),W(a),s.querySelector(".recipe__header-title")&&s.querySelector(".recipe__header-title").innerText?(De(s.getAttribute("data-href"),s.querySelector(".recipe__header-title").innerText),document.title=s.querySelector(".recipe__header-title").innerText):(De(s.getAttribute("data-href"),s.querySelector("h1").innerText),document.title=s.querySelector("h1").innerText),Ae(s,document.title),window.instgrm&&window.instgrm.Embeds&&(window.instgrm.Embeds.process(),Be()),s.getAttribute("data-type")&&"Receipt"===s.getAttribute("data-type")||Ve(a,i)),a.classList.remove("loading"),a.classList.add("loaded"),window.VM_LOCK=!1,e.next=31;break;case 27:e.prev=27,e.t0=e.catch(9),window.VM.Logger.error("[Next]",e.t0),window.VM_LOCK=!1;case 31:e.next=36;break;case 33:u=null,document.querySelectorAll(".vmroot.article").forEach((function(e){e.offsetTop<=n&&(u=e.getAttribute("data-id"))})),u&&(p=document.querySelector('.article[data-id="'.concat(u,'"]')),window.location.pathname!==p.getAttribute("data-href")&&(p.querySelector(".recipe__header-title")&&p.querySelector(".recipe__header-title").innerText?(Pe(p.getAttribute("data-href"),p.querySelector(".recipe__header-title").innerText),document.title=p.querySelector(".recipe__header-title").innerText):(Pe(p.getAttribute("data-href"),p.querySelector("h1").innerText),document.title=p.querySelector("h1").innerText),Ae(p,document.title)));case 36:case"end":return e.stop()}}),e,null,[[9,27]])})));return function(t){return e.apply(this,arguments)}}())}}var Oe=function(e,t){e.innerHTML=t,Array.from(e.querySelectorAll("script")).forEach((function(e){var t=document.createElement("script");Array.from(e.attributes).forEach((function(e){return t.setAttribute(e.name,e.value)})),t.appendChild(document.createTextNode(e.innerHTML)),e.parentNode.replaceChild(t,e)}))};function Ve(e,t){if(!window.canLoad())return"";if(!window.yaads){var n=document.createElement("script");n.async=!0,n.src="//yastatic.net/pcode-native/loaders/loader.js",document.head.appendChild(n)}var o=document.createElement("div");if(o.classList.add("banner"),o.classList.add("banner_article"),!1===window.isMobile)switch(window.VM_LOADED_ARTICLE%3){case 0:case 3:Oe(o,function(e){if(!window.canLoad())return"";return'<div id="adfox_'.concat(e,'" class="adv-nmb" style="margin-bottom: 48px;"></div><script>window.yaContextCb.push(()=>{window.Ya.adfoxCode.createAdaptive({ownerId: 214425,containerId: \'adfox_').concat(e,"',params: {pp: 'i',ps: 'bzmb',p2: 'gpqc'}}, ['desktop'], {tabletWidth: 1024,phoneWidth: 480,isAutoReloads: false});});<\/script>")}(t)),e.appendChild(o),console.log("load recommendation and slot 71");break;case 1:Oe(o,function(e){if(!window.canLoad())return"";return'\n        <div style="display: flex;flex-direction: column">\n            <script>window.yaContextCb.push(()=>{Ya.Context.AdvManager.renderWidget({renderTo: "#id-'.concat(e,'", blockId: "C-A-338519-2"})});<\/script><div style="padding: 0 10px;" id="id-').concat(e,'"></div>\n            <div id="adfox_16494095131293678_').concat(e,"\"></div>\n            <script>window.yaContextCb.push(()=>{Ya.adfoxCode.create({ownerId: 214425,containerId: 'adfox_16494095131293678_").concat(e,"',params: {pp: 'g',ps: 'bzmb',p2: 'gxfy',puid1: '',puid2: ''}})})<\/script>\n        </div>\n    ")}(t)),e.appendChild(o),console.log("load recommendation and slot 7");break;case 2:Oe(o,function(e){if(!window.canLoad())return"";return'\n        <div style="display: flex;flex-direction: column">\n            <div id="adfox_'.concat(e,"\"></div><script>window.yaContextCb.push(()=>{window.Ya.adfoxCode.createAdaptive({ownerId: 214425,containerId: 'adfox_").concat(e,"',params: {pp: 'h',ps: 'bzmb',p2: 'fjdc'}}, ['desktop'], {tabletWidth: 1024,phoneWidth: 480,isAutoReloads: false});});<\/script>\n            <div id=\"adfox_16494095131293678_").concat(e,"\"></div>\n            <script>window.yaContextCb.push(()=>{Ya.adfoxCode.create({ownerId: 214425,containerId: 'adfox_16494095131293678_").concat(e,"',params: {pp: 'g',ps: 'bzmb',p2: 'gxfy',puid1: '',puid2: ''}})})<\/script>\n        </div>   \n    ")}(t)),e.appendChild(o),console.log("load slot 6")}else switch(window.VM_LOADED_ARTICLE%3){case 0:case 3:Oe(o,function(e){if(!window.canLoad())return"";return'<div id="adfox_'.concat(e,'" style="margin-bottom: 24px;"></div><script>window.yaContextCb.push(()=>{window.Ya.adfoxCode.createAdaptive({ownerId: 214425,containerId: \'adfox_').concat(e,"',params: {pp: 'h',ps: 'bzmb',p2: 'gcyd'}}, ['tablet', 'phone'], {tabletWidth: 1024,phoneWidth: 480,isAutoReloads: false});});<\/script>\n        <style>\n            div[id^=\"adfox_162209223010155713\"]{margin-bottom: 20px;}\n        </style>\n        <script>\n            var d = document.querySelector('div[data-id=\"").concat(e,"\"] .article-view > p:nth-of-type(3)');\n            var articleP =  document.querySelectorAll('div[data-id=\"").concat(e,"\"] .article-view > p');\n            if (d && articleP.length >= 6) {\n                var npVideoElement = document.createElement('div');\n                npVideoElement.setAttribute('id', 'adfox_162209223010155713_").concat(e,"');\n                d.parentNode.insertBefore(npVideoElement, document.querySelector('div[data-id=\"").concat(e,"\"] .article-view > p:nth-of-type(4)'));\n                window.yaContextCb.push(()=>{\n                    window.Ya.adfoxCode.create({\n                        ownerId: 214425,\n                        containerId: 'adfox_162209223010155713_").concat(e,"',\n                        params: {\n                            pp: 'h',\n                            ps: 'bzmb',\n                            p2: 'hfmb',\n                            puid1: ''\n                        },\n\n                        onStub: function () {\n                            var i = document.createElement('script');\n                            i.src = '//static.videonow.ru/vn_init.js?profileId=1005205';\n                            document.head.appendChild(i);\n                        }\n                    });   \n                });\n            }\n        <\/script>\n        <script>\n            var d = document.querySelector('div[data-id=\"").concat(e,"\"] .article-view > p:nth-of-type(9)');\n            var articleP =  document.querySelectorAll('div[data-id=\"").concat(e,"\"] .article-view > p');\n            if (d && articleP.length >= 12) {\n                var npVideoElement = document.createElement('div');\n                npVideoElement.setAttribute('id', 'adfox_162209223010155713_2_").concat(e,"');\n                d.parentNode.insertBefore(npVideoElement, document.querySelector('div[data-id=\"").concat(e,"\"] .article-view > p:nth-of-type(10)'));\n                window.yaContextCb.push(()=>{\n                    window.Ya.adfoxCode.create({\n                        ownerId: 214425,\n                        containerId: 'adfox_162209223010155713_2_").concat(e,"',\n                        params: {\n                            pp: 'h',\n                            ps: 'bzmb',\n                            p2: 'hfmb',\n                            puid1: ''\n                        },\n\n                        onStub: function () {\n                            var i = document.createElement('script');\n                            i.src = '//static.videonow.ru/vn_init.js?profileId=1005205';\n                            document.head.appendChild(i);\n                        }\n                    });   \n                });\n            }\n        <\/script>")}(t)),e.appendChild(o),console.log("load recommendation and 3m next");break;case 1:Oe(o,function(e){if(!window.canLoad())return"";return'\n        <div style="display: flex;flex-direction: column">\n        <script>window.yaContextCb.push(()=>{Ya.Context.AdvManager.renderWidget({renderTo: "#id-'.concat(e,'", blockId: "C-A-338519-2"})});<\/script><div style="padding: 0 10px;" id="id-').concat(e,'"></div>\n        <div class="adv-nmb" id="adfox_16494095131293678_').concat(e,"\"></div>\n        <script>window.yaContextCb.push(()=>{Ya.adfoxCode.create({ownerId: 214425,containerId: 'adfox_16494095131293678_").concat(e,"',params: {pp: 'g',ps: 'bzmb',p2: 'gxfy',puid1: '',puid2: ''}})})<\/script>\n        <div class=\"4m_wrapper\" style=\"display: block; max-width: 720px; margin-bottom: 24px;\">\n            <div id=\"adfox_").concat(e,"_310521\"></div>\n            <script>\n                window.yaContextCb.push(()=>{window.Ya.adfoxCode.createAdaptive({ownerId: 214425,containerId: 'adfox_").concat(e,"_310521',params: {pp: 'g',ps: 'bzmb',p2: 'hfmh',puid1: ''}}, ['phone'], {tabletWidth: 980,phoneWidth: 640,isAutoReloads: false});});\n            <\/script>\n        </div>\n        <style>\n            div[id^=\"adfox_162209223010155713\"]{margin-bottom: 20px;}\n        </style>\n        <script>\n            var d = document.querySelector('div[data-id=\"").concat(e,"\"] .article-view > p:nth-of-type(3)');\n            var articleP =  document.querySelectorAll('div[data-id=\"").concat(e,"\"] .article-view > p');\n            if (d && articleP.length >= 6) {\n                var npVideoElement = document.createElement('div');\n                npVideoElement.setAttribute('id', 'adfox_162209223010155713_").concat(e,"');\n                d.parentNode.insertBefore(npVideoElement, document.querySelector('div[data-id=\"").concat(e,"\"] .article-view > p:nth-of-type(4)'));\n                window.yaContextCb.push(()=>{\n                    window.Ya.adfoxCode.create({\n                        ownerId: 214425,\n                        containerId: 'adfox_162209223010155713_").concat(e,"',\n                        params: {\n                            pp: 'h',\n                            ps: 'bzmb',\n                            p2: 'hfmb',\n                            puid1: ''\n                        },\n\n                        onStub: function () {\n                            var i = document.createElement('script');\n                            i.src = '//static.videonow.ru/vn_init.js?profileId=1005205';\n                            document.head.appendChild(i);\n                        }\n                    });   \n                });\n            }\n        <\/script>\n        <script>\n            var d = document.querySelector('div[data-id=\"").concat(e,"\"] .article-view > p:nth-of-type(9)');\n            var articleP =  document.querySelectorAll('div[data-id=\"").concat(e,"\"] .article-view > p');\n            if (d && articleP.length >= 12) {\n                var npVideoElement = document.createElement('div');\n                npVideoElement.setAttribute('id', 'adfox_162209223010155713_2_").concat(e,"');\n                d.parentNode.insertBefore(npVideoElement, document.querySelector('div[data-id=\"").concat(e,"\"] .article-view > p:nth-of-type(10)'));\n                window.yaContextCb.push(()=>{\n                    window.Ya.adfoxCode.create({\n                        ownerId: 214425,\n                        containerId: 'adfox_162209223010155713_2_").concat(e,"',\n                        params: {\n                            pp: 'h',\n                            ps: 'bzmb',\n                            p2: 'hfmb',\n                            puid1: ''\n                        },\n\n                        onStub: function () {\n                            var i = document.createElement('script');\n                            i.src = '//static.videonow.ru/vn_init.js?profileId=1005205';\n                            document.head.appendChild(i);\n                        }\n                    });   \n                });\n            }\n        <\/script>\n        </div>\n    ")}(t)),e.appendChild(o),console.log("load recommendation and 3m");break;case 2:Oe(o,function(e){if(!window.canLoad())return"";return'\n        <div style="display: flex;flex-direction: column">\n            <div id="adfox_16494095131293678_'.concat(e,"\"></div>\n            <script>window.yaContextCb.push(()=>{Ya.adfoxCode.create({ownerId: 214425,containerId: 'adfox_16494095131293678_").concat(e,"',params: {pp: 'g',ps: 'bzmb',p2: 'gxfy',puid1: '',puid2: ''}})})<\/script>\n            <style>\n                div[id^=\"adfox_162209223010155713\"]{margin-bottom: 20px;}\n            </style>\n            <script>\n                var d = document.querySelector('div[data-id=\"").concat(e,"\"] .article-view > p:nth-of-type(3)');\n                var articleP =  document.querySelectorAll('div[data-id=\"").concat(e,"\"] .article-view > p');\n                if (d && articleP.length >= 6) {\n                    var npVideoElement = document.createElement('div');\n                    npVideoElement.setAttribute('id', 'adfox_162209223010155713_").concat(e,"');\n                    d.parentNode.insertBefore(npVideoElement, document.querySelector('div[data-id=\"").concat(e,"\"] .article-view > p:nth-of-type(4)'));\n                    window.yaContextCb.push(()=>{\n                        window.Ya.adfoxCode.create({\n                            ownerId: 214425,\n                            containerId: 'adfox_162209223010155713_").concat(e,"',\n                            params: {\n                                pp: 'h',\n                                ps: 'bzmb',\n                                p2: 'hfmb',\n                                puid1: ''\n                            },\n    \n                            onStub: function () {\n                                var i = document.createElement('script');\n                                i.src = '//static.videonow.ru/vn_init.js?profileId=1005205';\n                                document.head.appendChild(i);\n                            }\n                        });   \n                    });\n                }\n            <\/script>\n            <script>\n                var d = document.querySelector('div[data-id=\"").concat(e,"\"] .article-view > p:nth-of-type(9)');\n                var articleP =  document.querySelectorAll('div[data-id=\"").concat(e,"\"] .article-view > p');\n                if (d && articleP.length >= 12) {\n                    var npVideoElement = document.createElement('div');\n                    npVideoElement.setAttribute('id', 'adfox_162209223010155713_2_").concat(e,"');\n                    d.parentNode.insertBefore(npVideoElement, document.querySelector('div[data-id=\"").concat(e,"\"] .article-view > p:nth-of-type(10)'));\n                    window.yaContextCb.push(()=>{\n                        window.Ya.adfoxCode.create({\n                            ownerId: 214425,\n                            containerId: 'adfox_162209223010155713_2_").concat(e,"',\n                            params: {\n                                pp: 'h',\n                                ps: 'bzmb',\n                                p2: 'hfmb',\n                                puid1: ''\n                            },\n    \n                            onStub: function () {\n                                var i = document.createElement('script');\n                                i.src = '//static.videonow.ru/vn_init.js?profileId=1005205';\n                                document.head.appendChild(i);\n                            }\n                        });   \n                    });\n                }\n            <\/script>\n        </div>\n    ")}(t)),e.appendChild(o),setTimeout((function(){!function(e){if(!window.canLoad())return""}()}),1500),console.log("load 2m")}}function Pe(e,t){window.history&&window.history.replaceState({},t,"".concat(e))}function De(e,t){if(!window.canLoad())return"";if(window.ym&&(window.VM.Logger.info("hit",{counter:w.a.METRIKA_COUNTER,url:e}),window.ym(w.a.METRIKA_COUNTER,"hit",e,{title:t,referer:e})),window.outerYaCounters){var n,o=Object(i.a)(window.outerYaCounters);try{for(o.s();!(n=o.n()).done;){var a=n.value;window.ym(a,"hit",e,{title:t,referer:"https://vm.ru"}),window.outerYaCounters.pop()}}catch(r){o.e(r)}finally{o.f()}}window.ga&&window.ga("send","pageview",e,{title:t}),window.tnsCounterVmdaily_ru&&(console.log("tns counter call"),window.tnsCounterVmdaily_ru.hit("vmdaily_total",e,"https://vm.ru")),window&&window.LiveCounter&&(e.indexOf("vm.ru")+1===0&&(e="https://vm.ru".concat(e)),window.LiveCounter(e,t))}function Re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(n,o){var i=window.location.pathname.indexOf("/opinion")+1>0?w.a.LAZY.opinion+e:w.a.LAZY.default+e;window.VM_ARTICLE&&window.VM_ARTICLE.id&&(i="".concat(i,"?exclude=").concat(window.VM_ARTICLE.id)),t&&(i="".concat(i,"?exclude=").concat(window.VM_ARTICLE.id,"&ignore_material=true")),fetch(i).then((function(e){return e.text()})).then((function(e){n(e)})).catch((function(e){window.VM.Logger.error("error load material: ",e),o(e)}))}))}function Be(){if(window.VM.dwidth<=980&&window.canLoad()){var e=document.querySelectorAll('.topic-code[data-provider="instagram.com"]:not(.rendered)');e&&e&&setTimeout((function(){e.forEach((function(e){e.classList.add("mhh"),setTimeout((function(){e.classList.add("rendered"),e.classList.remove("mhh")}),500)}))}),350)}}},17:function(e,t,n){e.exports=n(16)},2:function(e,t,n){"use strict";t.a={ENDPOINTS:{WIDGET:"/widget",LISTING:"/listing",POLL_LOAD:"/api/polls",POLL_VOTE:"/api/polls/vote/"},SEARCH:"/search/site",USER:{token:"vm_access_token",socket:window.location.hostname.indexOf("localhost")+1>0?"http://localhost:9001":""},RECAPTCHA:{KEY:"6LeaUh4UAAAAAPjRsHWefgJIrDZv0_HqdGuJNm0L"},METRIKA_COUNTER:25041881,SOCIAL_LOGIN:"localhost"!==window.location.hostname?"https://".concat(window.location.hostname,"/profile/login/social/"):"http://".concat(window.location.hostname,":8081/profile/login/social/"),SOCIAL_REDIRECT:"localhost"!==window.location.hostname?"https://".concat(window.location.hostname,"/profile/redirect/social/"):"http://".concat(window.location.hostname,":8081/profile/redirect/social/"),SOCIAL:{vk:6848742,fb:312447606186097,ok:1085288960,tw:"M4Pkt2OPvn6Az269QFGtbg"},LAZY:{default:"/next/",opinion:"/opinion_next/"},BAN_TIMES:{60:"1 \u043c\u0438\u043d\u0443\u0442\u0443",120:"2 \u043c\u0438\u043d\u0443\u0442\u044b",300:"5 \u043c\u0438\u043d\u0443\u0442",3600:"1 \u0447\u0430\u0441",86400:"24 \u0447\u0430\u0441\u0430"}}}}]);